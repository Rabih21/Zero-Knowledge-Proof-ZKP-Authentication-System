<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Register</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div class="container">
    <div class="card">
      <h2>Create Account</h2>
      <div class="input-group">
        <label>Username</label>
        <input type="text" id="u" placeholder="Enter username">
      </div>
      <div class="input-group">
        <label>Password</label>
        <input type="password" id="p" placeholder="Enter password">
      </div>
      <button class="btn" onclick="register()">Register</button>
      <a href="/login" style="display:block; margin-top:1.5rem;">Already have an account?</a>
      <pre id="out" class="result" style="display:none;"></pre>
    </div>
  </div>
  <script>
    async function register() {
      const u = document.getElementById('u').value;
      const p = document.getElementById('p').value;
      const out = document.getElementById('out');
      
      const res = await fetch('/register', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({username: u, password: p})
      });
      const data = await res.json();
      out.style.display = 'block';
      out.textContent = JSON.stringify(data, null, 2);
      
      if (data.redirect) window.location = data.redirect;
    }
  </script>
</body>
</html> 